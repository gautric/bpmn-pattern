<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" id="_5OhqwOhjEDi1acUvamM2TQ" exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20"><bpmn2:itemDefinition id="_booleanInItem" structureRef="Boolean"/><bpmn2:process id="JavaScriptProcess" drools:packageName="net.a.g.jbpm.pattern" xmlns:drools="http://www.jboss.org/drools" drools:version="1.0" drools:adHoc="false" name="JavaScriptProcess" isExecutable="true" processType="Private"><bpmn2:property id="booleanIn" itemSubjectRef="_booleanInItem" name="booleanIn"/><bpmn2:sequenceFlow id="_2F0D010B-9014-421C-8646-F50C3C6514D5" sourceRef="_FF04E999-74B1-42A2-B5F8-5CEDA4EEA411" targetRef="_0FCE5188-ACEE-410E-B55D-BB7BB6A3C90D"><bpmn2:extensionElements><drools:metaData name="isAutoConnection.source"><drools:metaValue>true</drools:metaValue></drools:metaData><drools:metaData name="isAutoConnection.target"><drools:metaValue>true</drools:metaValue></drools:metaData></bpmn2:extensionElements></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_AFB1A629-5B16-4D35-934A-6CF5E5E0DEF5" sourceRef="_1" targetRef="_2"/><bpmn2:sequenceFlow id="_76470897-BE26-4A31-8EE8-D59F1F3C8D10" sourceRef="_2" targetRef="_4"/><bpmn2:sequenceFlow id="_4-_5" name="Async Branch" sourceRef="_4" targetRef="_5"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>Async Branch</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" language="http://www.javascript.com/javascript">booleanIn == true</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4-_6" name="Sync Branch" sourceRef="_4" targetRef="_6"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>Sync Branch</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" language="http://www.javascript.com/javascript">kcontext.getVariable('booleanIn') == false</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_950B7ED6-C4DB-45C9-874C-8CD0EED1BF4A" sourceRef="_7" targetRef="_FF04E999-74B1-42A2-B5F8-5CEDA4EEA411"/><bpmn2:sequenceFlow id="_FAB9CCD6-7171-41B2-9089-3D824856F783" sourceRef="_5" targetRef="_7"/><bpmn2:sequenceFlow id="_244BC45A-EE9F-4F13-9983-4D58CE43B33F" sourceRef="_6" targetRef="_7"/><bpmn2:endEvent id="_0FCE5188-ACEE-410E-B55D-BB7BB6A3C90D"><bpmn2:incoming>_2F0D010B-9014-421C-8646-F50C3C6514D5</bpmn2:incoming></bpmn2:endEvent><bpmn2:scriptTask id="_FF04E999-74B1-42A2-B5F8-5CEDA4EEA411" name="Last Step Task" scriptFormat="http://www.javascript.com/javascript"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>Last Step Task</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_950B7ED6-C4DB-45C9-874C-8CD0EED1BF4A</bpmn2:incoming><bpmn2:outgoing>_2F0D010B-9014-421C-8646-F50C3C6514D5</bpmn2:outgoing><bpmn2:script>print('Last Step Task');</bpmn2:script></bpmn2:scriptTask><bpmn2:scriptTask id="_2" name="First Step Task" scriptFormat="http://www.javascript.com/javascript"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>First Step Task</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_AFB1A629-5B16-4D35-934A-6CF5E5E0DEF5</bpmn2:incoming><bpmn2:outgoing>_76470897-BE26-4A31-8EE8-D59F1F3C8D10</bpmn2:outgoing><bpmn2:script>// this is comment
kcontext.setVariable('threadName', java.lang.Thread.currentThread().getName());
var text = 'Current Thread :  ';
print(text + kcontext.getVariable('threadName'));
try {
      somethingInvalid;
} catch(err) {
       print(err + '\n');
}</bpmn2:script></bpmn2:scriptTask><bpmn2:startEvent id="_1" name="StartProcess"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>StartProcess</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:outgoing>_AFB1A629-5B16-4D35-934A-6CF5E5E0DEF5</bpmn2:outgoing></bpmn2:startEvent><bpmn2:exclusiveGateway id="_4" drools:dg="_4-_6" gatewayDirection="Diverging" default="_4-_6"><bpmn2:incoming>_76470897-BE26-4A31-8EE8-D59F1F3C8D10</bpmn2:incoming><bpmn2:outgoing>_4-_6</bpmn2:outgoing><bpmn2:outgoing>_4-_5</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:scriptTask id="_5" name="Async Script Task" scriptFormat="http://www.javascript.com/javascript"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>Async Script Task</drools:metaValue></drools:metaData><drools:metaData name="customAsync"><drools:metaValue>true</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_4-_5</bpmn2:incoming><bpmn2:outgoing>_FAB9CCD6-7171-41B2-9089-3D824856F783</bpmn2:outgoing><bpmn2:script>print('Async Branch');
// Retrieve  threadName via kcontext
print('Previous Thread : ' + kcontext.getVariable('threadName'));
var text = 'Current Thread :  ';
print(text + java.lang.Thread.currentThread().getName());</bpmn2:script></bpmn2:scriptTask><bpmn2:scriptTask id="_6" name="Sync Script Task" scriptFormat="http://www.javascript.com/javascript"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue>Sync Script Task</drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_4-_6</bpmn2:incoming><bpmn2:outgoing>_244BC45A-EE9F-4F13-9983-4D58CE43B33F</bpmn2:outgoing><bpmn2:script>print('Sync Branch');
// Retrieve  threadName via injected value
print('Previous Thread : ' + threadName);
var text = 'Current Thread :  ';
print(text + java.lang.Thread.currentThread().getName());</bpmn2:script></bpmn2:scriptTask><bpmn2:inclusiveGateway id="_7" drools:dg="_950B7ED6-C4DB-45C9-874C-8CD0EED1BF4A" gatewayDirection="Converging" default="_950B7ED6-C4DB-45C9-874C-8CD0EED1BF4A"><bpmn2:incoming>_244BC45A-EE9F-4F13-9983-4D58CE43B33F</bpmn2:incoming><bpmn2:incoming>_FAB9CCD6-7171-41B2-9089-3D824856F783</bpmn2:incoming><bpmn2:outgoing>_950B7ED6-C4DB-45C9-874C-8CD0EED1BF4A</bpmn2:outgoing></bpmn2:inclusiveGateway></bpmn2:process><bpmndi:BPMNDiagram xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"><bpmndi:BPMNPlane bpmnElement="JavaScriptProcess"><bpmndi:BPMNShape id="shape__7" bpmnElement="_7"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="56" width="56" x="904" y="236"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__6" bpmnElement="_6"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="50" width="110" x="660" y="352"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__5" bpmnElement="_5"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="50" width="110" x="660" y="126"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__4" bpmnElement="_4"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="56" width="56" x="470" y="236"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__1" bpmnElement="_1"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="56" width="56" x="62" y="236"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__2" bpmnElement="_2"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="75.5" width="135" x="226.5" y="226.25"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__FF04E999-74B1-42A2-B5F8-5CEDA4EEA411" bpmnElement="_FF04E999-74B1-42A2-B5F8-5CEDA4EEA411"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="102" width="154" x="1040" y="213"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__0FCE5188-ACEE-410E-B55D-BB7BB6A3C90D" bpmnElement="_0FCE5188-ACEE-410E-B55D-BB7BB6A3C90D"><dc:Bounds xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" height="56" width="56" x="1274" y="236"/></bpmndi:BPMNShape><bpmndi:BPMNEdge id="edge_shape__6_to_shape__7" bpmnElement="_244BC45A-EE9F-4F13-9983-4D58CE43B33F"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="715" y="377"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="932" y="376.99999999999983"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="932" y="292"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__5_to_shape__7" bpmnElement="_FAB9CCD6-7171-41B2-9089-3D824856F783"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="715" y="151"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="932" y="150.999999297194"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="932" y="236"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__7_to_shape__FF04E999-74B1-42A2-B5F8-5CEDA4EEA411" bpmnElement="_950B7ED6-C4DB-45C9-874C-8CD0EED1BF4A"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="960" y="264"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="1040" y="264"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__4_to_shape__6" bpmnElement="_4-_6"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="495" y="286"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="498" y="377"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="660" y="377"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__4_to_shape__5" bpmnElement="_4-_5"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="495" y="236"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="498" y="151"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="660" y="151"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__2_to_shape__4" bpmnElement="_76470897-BE26-4A31-8EE8-D59F1F3C8D10"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="294" y="264"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="470" y="264"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__1_to_shape__2" bpmnElement="_AFB1A629-5B16-4D35-934A-6CF5E5E0DEF5"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="90" y="264"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="226.5" y="264"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__FF04E999-74B1-42A2-B5F8-5CEDA4EEA411_to_shape__0FCE5188-ACEE-410E-B55D-BB7BB6A3C90D" bpmnElement="_2F0D010B-9014-421C-8646-F50C3C6514D5"><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="1194" y="264"/><di:waypoint xmlns:di="http://www.omg.org/spec/DD/20100524/DI" x="1274" y="264"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship type="BPSimData"><bpmn2:extensionElements><bpsim:BPSimData xmlns:bpsim="http://www.bpsim.org/schemas/1.0"><bpsim:Scenario id="default" name="Simulationscenario"><bpsim:ScenarioParameters/><bpsim:ElementParameters elementRef="_6"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="_5"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="_1"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="_2"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="_FF04E999-74B1-42A2-B5F8-5CEDA4EEA411"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters></bpsim:Scenario></bpsim:BPSimData></bpmn2:extensionElements><bpmn2:source>_5OhqwOhjEDi1acUvamM2TQ</bpmn2:source><bpmn2:target>_5OhqwOhjEDi1acUvamM2TQ</bpmn2:target></bpmn2:relationship></bpmn2:definitions>